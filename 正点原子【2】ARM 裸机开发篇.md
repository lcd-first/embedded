# 7.IMX启动方式

## 一. 硬件启动方式选择

### 1. 启动方式选择

 LED 灯实验，是从SD卡读取bin文件并启动，说明6Ull是支持从SD卡启动的，6ULL支持多种启动方式。

6ULL 是怎么支持从多种外置flash 启动程序的

1.  启动方式选择

   BOOT_MODE0 和BOOT_MODE1 ,这个是两个IO控制的  





## 二. 启动头文件



 



# 8.C 语言的LED驱动实验

## 一. 设置处理器模式

 设置6ULL处于SVC模式下，设置CPSR 寄存器的bit4 -0 .  也就是 M[4:0] 为 10011 = 0x13 。读写状态寄存器需要用到MRS和MSR指令，MRS 将CPSR寄存器数据读出到通用寄存器里面，MSR指令 将通用寄存器写入到CPSR寄存器里面去。

## 二. 设置 SP指针

sp 可以指向内部RAM，也可以指向DDR，我们将其指向DDR，SP设置到哪里？ 。512 MB 的范围 0x800000000-ox9FFFFFFFF.  栈大小， 0x200000 = 2 MB 。 根据处理器栈增长方式，对于A7 而言是向下增长的。设置sp指向 0x80200000. 



- 栈 向上增长或者想下增长， 



## 三. 跳转到c语言

使用 b指令，跳转到c语言函数，比如main 函数，



## 二. 软件编写









#  11. BSP 工程管理实验



BSP 工程管理的目的就是为了模块化整理代码，同一个属性的文件存放在同一个目录里面

 





















